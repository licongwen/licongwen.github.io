---
title: 数组去重
date: 2017-10-24 09:06:42
tags: 
---
数组去重也是js中的面试重点之一。
<!--more-->
# 使用indexOf
循环当前数组，利用indexOf判断arr中的每个元素在数组res中存不存在（不存在时indexOf返回-1），如果不存在则将arr数组中的元素push到res数组中去。
```javascript
var arr = [1,2,1,2,'1','1'];
function unique(arr){
 var res = [];
 arr.forEach((item,index,s)=>{
	if(res.indexOf(item)<0){
		res.push(item);
	}
 })
 return res;
}
console.log(unique(arr));//[1,2,'1']
```

indexOf还有一种思路，如果数组中的元素存在，indexOf会返回该元素在数组中第一次出现的位置，如果不存在就返回-1.如果数组中存在重复的值，那么对于后出现的那个重复值，indexOf返回值和该值在数组中的位置时不相等的。
```javascript
var arr =[1,1,2,2,'3','3','d','d'];
function unique(arr){
 var res=[];
  arr.forEach((item,index)=>{
   if(arr.indexOf(item)===index){
    res.push(item);
	}
 })
  return res;
}
console.log(unique(arr))//[1,2,'3','d'];
```
 # ES6语法去重
 ES6提供了新的数据结构Set，它和数组类似，但是Set结构里面的成员值都是唯一的，没有重复的值。再使用Array.from()函数方法或扩展运算符(...)转换为数组；
 ```javascript
 var arr = [1,2,1,2,'1','1'];
function unique(arr){
	return Array.from(new Set(arr));
 }
 console.log(unique(arr));//[1,2,'1'];
 //分割线

function unique(arr){
	return [...new Set(arr)];
 }
 console.log(unique(arr));//[1,2,'1'];
 
 ```
 
 # 使用splice去重
 ```javascript
var arr = [1,1,'1',2,2,'2','1','2'];
for(var i=0;i<arr.length-1;i++){
 for(var j=i+1;j<arr.length;j++){
  if(arr[j]===arr[i]){
	arr.splice(j--,1);
  }
 }
}
unique(arr);
console.log(arr);//[1,'1',2,'2'];
 ```
 